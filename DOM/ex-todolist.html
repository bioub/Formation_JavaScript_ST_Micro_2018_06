<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <form class="todo-form">

    <input class="todo-input"><button>+</button>
  </form>
  <div class="todo-div">

  </div>
  <script>
    (function() {
      'use strict';

      /*
      Exercice 1 : Ajouter un bouton moins à la fin de chaque ligne
      Exercice 2 : Au clic du bouton moins supprimer la ligne
      Indice : event.target => la référence du HTMLButtonElement
      Indice : parentNode / parentElement / removeChild / remove (mal supporté)

      Exercice 3 : Ajouter dans le HTML une case à cocher <input type="checkbox">
      et en JS une case à cocher sur chaque ligne
      Au clic de la case au cocher du formulaire, tout cocher ou décocher
      */

      /**
       * @param {object} todo La todo
       * @param {string} todo.title Le titre
       * @param {boolean} todo.completed Le status
       */
      function addTodo(todo) {
        const value = todo.title
        const checked = todo.completed;
        
        const rowElt = document.createElement('div');

        const rowInputElt = document.createElement('input');
        rowInputElt.value = value;

        rowElt.appendChild(rowInputElt); // <div><input></div>

        // previousElementSibling, nextElementSibling frères et soeur
        // children, firstElementChild, lastElementChild
        // parentElement (ou parentNode)
        if (divElt.children.length) {
          divElt.insertBefore(rowElt, divElt.firstElementChild);
        } else {
          divElt.appendChild(rowElt);
        }
      }

      /** @type HTMLFormElement */
      const formElt = document.querySelector('.todo-form');

      /** @type HTMLInputElement */
      const inputElt = document.querySelector('.todo-input');

      /** @type HTMLDivElement */
      const divElt = document.querySelector('.todo-div');

      formElt.addEventListener('submit', (event) => {
        event.preventDefault();
        addTodo({
          title: inputElt.value,
          completed: false,
        });
      });
    }());
  </script>
</body>
</html>